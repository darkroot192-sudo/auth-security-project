{% extends "base.html" %}

{% block content %}
<h2> Perfil de Usuario</h2>

{% if user %}
<div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; border: 2px solid #ff6b6b;">
    <p style="margin-bottom: 0.8rem;"><strong>ID:</strong> {{ user.id }}</p>
    <p style="margin-bottom: 0.8rem;"><strong>Usuario:</strong> {{ user.username }}</p>
    <p style="margin-bottom: 0.8rem;"><strong>Email:</strong> {{ user.email }}</p>
    <p style="margin-bottom: 0.8rem;"><strong>Rol:</strong> <span style="color: #ff4757; font-weight: bold;">{{ user.role }}</span></p>
    <p style="margin-bottom: 0.8rem;"><strong>Contraseña (texto plano):</strong> <code style="background: #ffe0e0; padding: 0.2rem 0.5rem; border-radius: 4px; color: #ff4757;">{{ user.password }}</code></p>
    <p><strong>Creado:</strong> {{ user.created_at }}</p>
</div>

<div class="danger-zone" style="margin-top: 2rem; font-size: 0.9rem;">
    <strong> Pista de pentesting:</strong>
    <br>Prueba IDOR cambiando <code>?id=1</code> a <code>?id=2</code> en la URL
    <br>¡Puedes ver perfiles de otros usuarios sin autorización!
</div>
{% else %}
<p style="color: #ff4757; font-weight: bold;">Usuario no encontrado.</p>
{% endif %}

<a href="/dashboard" style="display: inline-block; margin-top: 1rem; color: #ff4757; font-weight: bold; text-decoration: none;">← Volver al Dashboard</a>
{% endblock %}
